<nav class="headermenu" id="myTopnav">
    <ul class="topnav">
        <f:for each="{headerMenu}" as="menuItem">
            <li class="topnav-content {f:if(condition: menuItem.hasChildren, then: 'dropdown')}">
                <f:if condition="{menuItem.hasChildren}">
                    <f:then>
                        <!-- Item has children -->
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">
                            <f:if condition="{menuItem.files}">
                                <f:image image="{menuItem.files.0}" class="" width="20"/>
                            </f:if>
                            {menuItem.title}
                        </a>
                        <div class="dropdown">
                            <f:for each="{menuItem.children}" as="menuItemLevel2">
                                <f:if condition="{menuItemLevel2.spacer}">
                                    <f:then><div class="dropdown-divider"></div></f:then>
                                    <f:else>
                                        <f:link.page
                                            pageUid="{menuItemLevel2.data.uid}"
                                            class="dropdown-item {f:if(condition: menuItemLevel2.active, then: 'active')}">
                                            {menuItemLevel2.title}
                                        </f:link.page>
                                    </f:else>
                                </f:if>
                            </f:for>
                        </div>
                    </f:then>
                    <f:comment>
                        <!-- Item has no children -->
                    </f:comment>
                    <f:else>
                        <f:link.page
                            pageUid="{menuItem.data.uid}"
                            class="{f:if(condition: menuItem.active, then: 'active')}"
                            target="{menuItem.target}"
                            title="{menuItem.title}">
                            {menuItem.title}
                        </f:link.page>

                    </f:else>
                </f:if>
            </li>
        </f:for>
    </ul>
</nav>


<f:comment><!--
<f:if condition="{menuItem.children}">
    <f:then>
        <li class="dropdown{f:if(condition:'{menuItem.active}',then:' active')}">
            <button onclick="myFunction()" class="dropbtn">Dropdown</button>
            <div id="myDropdown" class="dropdown-content">
                <f:for each="{menuItem.children}" as="menuChild" iteration="headerChildIteration">
                    <f:link.page pageUid="{menuChild.data.uid}"
                                 class="dropdown-item {f:if(condition:'{menuChild.active}',then:' active')}">
                        {menuChild.title}
                    </f:link.page>
                </f:for>
            </div>
        </li>
    </f:then>
    <f:else>
        <li class="{f:if(condition:'{menuItem.active}',then:'active')}">
            <f:link.page pageUid="{menuItem.data.uid}" class="headerMenu-link">
                {menuItem.title}
            </f:link.page>
        </li>
    </f:else>
</f:if>
--></f:comment>
